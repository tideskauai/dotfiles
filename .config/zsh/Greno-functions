cd() {
    builtin cd $@; ls
}

pacs() {
    echo -e "$(pacman -Ss $@ | sed \
        -e 's#core/.*#\\033[1;31m&\\033[0;37m#g' \
        -e 's#extra/.*#\\033[0;32m&\\033[0;37m#g' \
        -e 's#community/.*#\\033[1;35m&\\033[0;37m#g' \
        -e 's#^.*/.* [0-9].*#\\033[0;36m&\\033[0;37m#g' )"
}

share() {
    if (($# == 1)) && [[ -e $1 ]]; then
        dir=${TMPDIR:-/tmp}/share-$$; mkdir "$dir" || error
        cp "$1" $dir
        pushd $dir && python -m http.server 65001; popd && rm -ri "$dir"
    else
        echo "Usage: share file-to-share"
    fi
}

notes() {
    if (($# > 1 )); then
        echo "Invalid number of arguments were given"
    elif (($# == 0)); then
        vim ~/Archives/txt/NOTES
    elif [[ $1 = "-o" ]]; then
        cat ~/Archives/txt/NOTES
    else
        echo "Write notes to edit notes"
        echo "Write notes -o to output notes"
    fi
}

rss() {
    if (($# > 1 )); then
        echo "Invalid number of arguments were given"
    elif (($# == 0)); then
        dtach -A $XDG_RUNTIME_DIR/newsbeuter \
        newsbeuter
    elif [[ $1 = "1" ]]; then
        dtach -A $XDG_RUNTIME_DIR/newsbeuter-one \
        newsbeuter \
        -u ~/.config/newsbeuter/urls-one \
        -c ~/.local/share/newsbeuter/cache-one.db
    elif [[ $1 = "2" ]]; then
        dtach -A $XDG_RUNTIME_DIR/newsbeuter-two \
        newsbeuter \
        -u ~/.config/newsbeuter/urls-two \
        -c ~/.local/share/newsbeuter/cache-two.db
    else
        echo "Valid arguments are none, 1, and 2"
    fi
}

sudo() {
    old=$(umask)
    # 775 dirs / 664 files
    umask 022
    command sudo "$@"
    umask $old
}
